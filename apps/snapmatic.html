<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IFruit - Michael De Santa</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="website icon" href="./images/ifruit.webp">
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="IFruit">
    <meta name="description" content="A fanmade website of Michael De Santa's IFruit phone from GTAV story mode.">
    <meta name="author" content="Jacob Bradley">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/ifruit.webp">
    <link rel="mask-icon" href="/images/ifruit.webp" color="#000000">
    <link rel="manifest" href="/manifest.json">

    <meta property="og:title" content="Michael's IFruit">
    <meta property="og:description" content="A fanmade website of Michael De Santa's IFruit phone from GTAV story mode.">
    <meta property="og:image" content="/images/ifruit.webp">
    <meta property="og:type" content="website">

    <link rel="shortcut icon" href="/images/ifruit.webp">
    <link rel="icon" sizes="192x192" href="/images/ifruit.webp">
    <link rel="icon" sizes="512x512" href="/images/ifruit.webp">

    <link rel="apple-touch-startup-image" href="/wallpapers/1.jpg">
    <style>
        #camera{
            height: 100%;
            width: 100%;
            background: #000;
            flex: 1;
        }
        #start,#stop,#switch{
            background: none;
            border: none;
            outline: none;
            padding: 0.2rem;
            cursor: pointer;
        }
        #start svg{
            fill: #3bb143;
        }
        #stop svg{
            fill: #bd1414;
        }
        #switch svg{
            fill: #458ad5;
        }
        #btns{
            gap: 5px;
            background: #fefefe;
            width: 100%;
            align-items: center;
            display: flex;
            justify-content: space-evenly;
        }
    </style>
</head>
<body>
    <div class="top-sections">
        <header>
            <div class="info">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M200-160v-240h120v240H200Zm240 0v-440h120v440H440Zm240 0v-640h120v640H680Z"/></svg>
                <img src="/images/infoimg.png" alt="ISP logo (Internet Service Provider Logo)">
                <p id="day"></p>
            </div>
            <p id="time">00:00</p>
            <div class="righthead">
                <img class="sleep" src="/images/sleep.png" alt="Sleep Mode">
                <svg id="battery" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 200 150">
                    <rect id="batteryOutline" x="10" y="35" width="180" height="80"/>
                    <rect x="190" y="55" width="10" height="40" id="batteryCharger"/>
                    <rect id="batteryFill" x="15" y="40" width="0" height="70"/>
                  </svg>
            </div>
        </header>
    </div>


        <video id="camera" autoplay playsinline></video>

   

   <div class="bottom">
    <div id="btns">
        <button id="start"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"/></svg></button>
        <button id="stop"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg></button>
        <button id="switch"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-280q-33 0-56.5-23.5T240-360v-240q0-33 23.5-56.5T320-680h40l40-40h160l40 40h40q33 0 56.5 23.5T720-600v240q0 33-23.5 56.5T640-280H320Zm0-80h320v-240H320v240Zm160-40q33 0 56.5-23.5T560-480q0-33-23.5-56.5T480-560q-33 0-56.5 23.5T400-480q0 33 23.5 56.5T480-400ZM342-940q34-11 68.5-15.5T480-960q94 0 177.5 33.5t148 93Q870-774 911-693.5T960-520h-80q-7-72-38-134.5t-79.5-110Q714-812 651-842t-135-36l62 62-56 56-180-180ZM618-20Q584-9 549.5-4.5T480 0q-94 0-177.5-33.5t-148-93Q90-186 49-266.5T0-440h80q8 72 38.5 134.5t79 110Q246-148 309-118t135 36l-62-62 56-56L618-20ZM480-480Z"/></svg></button>
    </div>
    <div class="select-options">
        <button class="select"></button>
        <button id="plus" class="select plus"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"/></svg></button>
        <button onclick="window.history.back();" id="back" class="select back"><img src="/images/backarrow.svg" alt="Back"></button>
    </div>
 
    <div class="bottom-options">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>
        <img src="/images/ifruit.webp" alt="IFruit logo">
        <img src="/images/bottomback.svg" alt="Back Arrow">
    </div>
   </div>

   <script>
   const videoElement = document.getElementById('camera');
const startButton = document.getElementById('start');
const stopButton = document.getElementById('stop');
const switchButton = document.getElementById('switch');
let stream;
let currentCamera = 'environment';

startButton.addEventListener('click', () => {
    startCamera(currentCamera);
});

stopButton.addEventListener('click', () => {
    stopCamera();
});

switchButton.addEventListener('click', () => {
    currentCamera = currentCamera === 'environment' ? 'user' : 'environment'; 
    restartCamera(); 
});

function startCamera(facingMode) {
    navigator.mediaDevices.getUserMedia({
        video: { facingMode: facingMode }
    })
    .then((mediaStream) => {
        stream = mediaStream;
        videoElement.srcObject = mediaStream;
        videoElement.play();

        if (facingMode === 'user') {
            videoElement.style.transform = 'scaleX(-1)'; 
        } else {
            videoElement.style.transform = ''; 
        }
    })
    .catch((err) => {
        console.error('Error accessing the camera: ', err);
    });
}

function stopCamera() {
    if (stream) {
        const tracks = stream.getTracks();
        tracks.forEach((track) => track.stop()); 
        videoElement.srcObject = null;
    }
}

function restartCamera() {
    stopCamera();
    startCamera(currentCamera); 
}


   </script>
    <script src="/scripts/script.js"></script>
</body>
</html>